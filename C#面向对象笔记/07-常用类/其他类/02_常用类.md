## 本节目标
1. Console类
2. Math类
3. Random类
4. DateTime结构体

## C# Console类

C# Console 类主要用于控制台应用程序的输入和输岀操作。

在前面演示的实例中就使用了该类，本节将具体具体讲解 Console 类的 4 个常用方法。

Console 类中常用方法

|**方法**|**描述**|
|------|------|
|Write|向控制台输出内容后不换行|
|WriteLine|向控制台输出内容后换行|
|Read|从控制台上读取一个字符，返回值为首字符的ASCII码|
|ReadLine|从控制台上读取一行字符|
|ReadKey|等待从控制台读取一个按键，通常用于暂停窗口|

此外，在向控制台中输出内容时也可以对输出的内容进行格式化，格式化时使用的是占位符的方法，语法形式如下。

```C#
	Console.Write(格式化字符串, 输出项, 输出项2);
```

其中，在格式化字符串中使用{索引号}的形式，索引号从 0 开始。输出项 1 填充 {0} 位置的内容，依此类推。

下面通过实例来学习 Console 类的用法。

【实例】从控制台依次输入姓名和所在学校，并在输出时组成一句话“xx 同学在 xx 学习”。

根据题目要求，代码如下。

```C#
	class Program
	{
		static void Main(string[] args)
		{
			Console.WriteLine("请输入学生姓名：");
			string name = Console.ReadLine();
			Console.WriteLine("请输入所在学校：");
			string school = Console.ReadLine();
			Console.WriteLine("{0}同学在{1}学习", name, school);
		}
	}
```



## C# Math类

C# Math 类主要用于一些与数学相关的计算，并提供了很多静态方法方便访问，常用的方法如下表所示。

|**方法**|**描述**|
|----|----|
|Abs	|取绝对值|
|Ceiling	|返回大于或等于指定的双精度浮点数的最小整数值|
|Floor	|返回小于或等于指定的双精度浮点数的最大整数值|
|Equals	|返回指定的对象实例是否相等|
|Max	|返回两个数中较大数的值|
|Min	|返回两个数中较小数的值|
|Sqrt	|返回指定数字的平方根|
|Pow	|返回指定数字的指定次幂|
|Round（小数,小数保留的位数)	|返回四舍五入后的值|
|DivRem	|计算两个数的商，并在输出参数中返回余数|
|	||

**Math类是静态类，不需要也不能实例化对象，直接用类名去调用封装的方法。**

下面通过实例来演示 Math 类的使用。

【实例】从控制台输入两个数，分别使用 Max 和 Min 方法输出其中的最大值和最小值。 

根据题目要求，代码如下。

```C# 
	class Program
	{
		static void Main(string[] args)
		{
			Console.WriteLine("请输入第一个数：");
			double num1 = Double.Parse(Console.ReadLine());
			Console.WriteLine("请输入第二个数：");
			double num2 = Double.Parse(Console.ReadLine());
			Console.WriteLine("两个数中较大的数为{0}", Math.Max(num1, num2));
			Console.WriteLine("两个数中较小的数为{0}", Math.Min(num1, num2));
		}
	}
```

执行上面的代码，看看效果。

从上面的代码可以看出，通过 Math 类中的 Max 和 Min 方法很容易实现获取两个数中最大值和最小值的操作。



## C# Random类

C# Random 类是一个产生**伪随机数**字的类，它的构造函数有两种。

```C# 
	New Random()；
	New Random(Int32)。
```

前者是根据触发那刻的系统时间做为种子，来产生一个随机数字，后者可以自己设定触发的种子，一般都是用 (int)DateTime.Now.Ticks 做为参数种子。

因此如果计算机运行速度很快，如果触发 Randm 函数间隔时间很短，就有可能造成产生一样的随机数，因为伪随机的数字，在 Random 的内部产生机制中还是有一定规律的，并非是真正意义上的完全随机。

Random 类中提供的 Next、NextBytes 以及 NextDouble 方法可以生成整数类型、byte 数组类型以及双精度浮点型的随机数，详细说明如下表所示。

|**方法**|**描述**|
|----|----|
|Next()|每次产生一个不同的随机正整数|
|Next(int max Value)|产生一个比 max Value 小的正整数|
|Next(int min Value,int max Value)|产生一个包含 minValue~maxValue 的正整数，但不包含 maxValue|
|NextDouble()|产生一个0.0~1.0的浮点数|
|NextBytes(byte[] buffer)|用随机数填充指定字节数的数组|

下面通过实例来演示 Random 类中方法的使用。

【实例】分别使用 Next、NextDouble 以及 NextBytes 方法生成随机数。

根据题目要求，代码如下。

```C# 
	class Program
	{
		static void Main(string[] args)
		{
			Random rd = new Random();
			Console.WriteLine("产生一个10以内的数：{0}", rd.Next(0, 10));
			Console.WriteLine("产生一个0到1之间的浮点数：{0}", rd.NextDouble());
			byte[] b = new byte[5];
			rd.NextBytes(b);
			Console.WriteLine("产生的byte类型的值为：");
			foreach(byte i in b)
			{
				Console.Write(i + " ");
			}
			Console.WriteLine();
		}
	}
```

执行上面的代码，看看效果。

从结果可以看出，通过 Random 类中的方法产生了不同类型的随机数。



## C# DateTime结构体

C# DateTime 结构体用于表示时间，所表示的范围是从 0001 年 1 月 1 日 0 点到 9999 年 12 月 31 日 24 点。

DateTime 结构体提供了 12 个构造方法来创建该类型的实例，但经常使用不带参数的方法创建 DateTime 的实例。

在 DateTime 结构体中提供了常用的属性和方 法用于获取或设置日期和时间，如下表所示。

| **属性或方法** | **描述**                               |
| -------------- | -------------------------------------- |
| Now            | 静态属性 Now,用于获取当前的日期和时间  |
| Date           | 获取实例的日期部分                     |
| Year           | 获取实例的年部分                       |
| Month          | 获取实例的月部分                       |
| Day            | 获取该实例所表示的日期是一个月的第几天 |
| DayOfWeek      | 获取该实例所表示的日期是一周的星期几   |
| DayOfYear      | 获取该实例所表示的日期是一年的第几天   |
| Hour           | 获取该实例所表示的日期的小时部分       |
| Minute         | 获取该实例所表示的日期的分数部分       |
| Second         | 获取该实例所表示的日期的秒数部分       |



|**方法**|**描述**|
|----|----|
|Add(Timespan value)|在指定的日期实例上添加时间间隔值 value|
|AddDays(double value)|在指定的日期实例上添加指定天数 value|
|AddHours(double value)|在指定的日期实例上添加指定的小时数 value|
|AddMinutes(double value)|在指定的日期实例上添加指定的分钟数 value|
|AddSeconds(double value)|在指定的日期实例上添加指定的秒数 value|
|AddMonths(int value)|在指定的日期实例上添加指定的月份 value|
|AddYears (int value)|在指定的日期实例上添加指定的年份 value|
|ToLongDateString()|将DateTime转换成日期长字符串|
|ToLongTimeString()|将DateTime转换成时间长字符串|
|ToShortDateString()|将DateTime转换成日期短字符串|
|ToShortTimeString()|将DateTime转换成时间短字符串|

下面通过实例来演示 DateTime 结构体的使用。

【实例】使用 DateTime 结构体获取当前时间，分别输出该日是当月的第几天、星期几以 及一年中的第几天，并计算 30 天后的日期。

根据题目要求，代码如下。

```C#
	class Program
	{
		static void Main(string[] args)
		{
			DateTime dt = DateTime.Now;
			Console.WriteLine("当前日期为：{0}", dt);
			Console.WriteLine("当前时本月的第{0}天", dt.Day);
			Console.WriteLine("当前是：{0}", dt.DayOfWeek);
			Console.WriteLine("当前是本年度第{0}天", dt.DayOfYear);
			Console.WriteLine("30 天后的日期是{0}", dt.AddDays(30));
		}
	}
```

执行上面的代码，看看效果。

DateTime 的使用

在使用 DateTime 中的 Add 方法时需要使用时间间隔结构体 TimeSpan,它允许表示的时间间隔范围是 0 到 64 位整数。

两个日期的差可由时间间隔结构体 TimeSpan 的对象来存放。假设计算现在距离2023年1月1日元旦的天数，代码如下。

```C#
	class Program
	{
		static void Main(string[] args)
		{
			DateTime dt1 = DateTime.Now;
			DateTime dt2 = new DateTime(2023, 1, 1);
			TimeSpan ts = dt2 - dt1;
			Console.WriteLine("间隔的天数为{0}天", ts.Days);
		}
	}
```

